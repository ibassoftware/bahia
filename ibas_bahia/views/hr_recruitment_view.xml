<?xml version="1.0"?>
<odoo>
    <data>
        <!-- Applicants -->
        <record id="view_form_rec_ext_inherited" model="ir.ui.view">
            <field name="name">Jobs - Recruitment Form</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form"/>
            <field name="arch" type="xml">

                <xpath expr="//header/button[@name='archive_applicant']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//header/button[@name='toggle_active']" position="replace"/>

                <xpath expr="//button[@name='action_makeMeeting']" position="after">
                    <button name="ibas_bahia.act_hr_applicant_evaluation_main" type="action" class="oe_stat_button"  icon="fa-book">
                        <field name="interview_count" widget="statinfo" string="Interview"/>
                    </button>
                </xpath>

                <xpath expr="//field[@name='kanban_state']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>

                <xpath expr="//field[@name='legend_done']" position="after">
                    <field name="avatar_128" invisible="1"/>
                    <field name="image_1920" widget='image' height="250" width="250"/>
                </xpath>

                <xpath expr="//div[@class='oe_title']" position="replace">
                    <div class="oe_title">
                        <h1 class="d-flex">
                            <field name="name" placeholder="Applicant's name"/>
                        </h1>
                        <label for="partner_name" class="oe_edit_only"/>
                        <h2 style="display: inline-block;">
                            <field name="partner_name" class="oe_inline" style="margin-left: 12px;"/>
                        </h2>
                        <h3 style="display: inline-block;">
                            <field name="last_name" class="oe_inline oe_edit_only" placeholder="Last name.."/>
                            <field name="first_name" class="oe_inline oe_edit_only" placeholder="First name.."/>
                            <field name="middle_name" class="oe_inline oe_edit_only" placeholder="Middle name.."/>
                        </h3>
                    </div>
                </xpath>

                <xpath expr="//field[@name='categ_ids']" position="replace"/>

                <xpath expr="//field[@name='user_id']" position="before">
                    <field name="application_number"/>
                </xpath>

                <xpath expr="//field[@name='user_id']" position="attributes">
                    <attribute name="context">{'default_groups_ref': ['base.group_user', 'base.group_partner_manager', 'base.group_hr_manager']}</attribute>
                </xpath>

                <xpath expr="//field[@name='medium_id']" position="attributes">
                    <attribute name="groups"></attribute>
                </xpath>

                <xpath expr="//field[@name='description']" position="attributes">
                    <attribute name="placeholder">Feedback of interviews...</attribute>
                </xpath>

                <xpath expr="//sheet/notebook" position="before">
                    <notebook>
                            <page string = "Public Information">
                                <group>
                                    <group string ="">
                                        <field name="preffered_nickname"/>
                                        <field name="nationality_id"/>
                                        <field name="date_of_birth" />
                                        <field name="placeof_birth" />          
                                        <field name="height"/>
                                        <field name="weight" />
                                        <field name="shoe_size" />
                                    </group>
                                    <group>
                                        <group string ="">
                                            <field name="philhealth_no"/>
                                            <field name="sss_no"/>
                                            <field name="hdmf_no"/>  
                                            <field name="pagibig_no"/>  
                                        </group>
                                    </group>
                                    <group>
                                        <group string ="">
                                            <field name="civil_status"/>
                                            <field name="gender"/>
                                        </group>
                                    </group> 

                                    <group string ="Permanent Address">
                                        <field name="permanent_address_adress"/>
                                        <field name="permanent_address_city"/>
                                        <field name="permanent_address_zipcode"/>  
                                        <field name="permanent_address_contact_no"/>  
                                    </group>

                                    <group string ="Alternative Address">
                                        <field name="alternative_address_adress"/>
                                        <field name="alternative_address_city"/>
                                        <field name="alternative_address_zipcode"/>  
                                        <field name="alternative_address_contact_no"/>  
                                    </group>

                                    <group string ="Person to notify in case of emergency">
                                        <field name="emergency_person_name"/>
                                        <field name="emergency_relationship_1"/>
                                        <field name="emergency_address"/>  
                                        <field name="emergency_zipcode"/>  
                                        <field name="emergency_contactno"/>  
                                    </group>
                                </group>                                
                            </page> 


                            <page string = "Other Information">
                                <group>
                                    <group string="Contract">
                                        <label for="salary_expected"/>
                                        <div>
                                            <field name="salary_expected" class="oe_inline"/>
                                            <span class="oe_inline" attrs="{'invisible':[('salary_expected_extra','=',False)]}"> + </span>
                                            <field name="salary_expected_extra" class="oe_inline" placeholder="Extra advantages..."/>
                                        </div>
                                        <label for="salary_proposed"/>
                                        <div>
                                            <field name="salary_proposed" class="oe_inline"/>
                                            <span class="oe_inline" attrs="{'invisible':[('salary_proposed_extra','=',False)]}"> + </span>
                                            <field name="salary_proposed_extra" class="oe_inline" placeholder="Extra advantages..."/>
                                        </div>
                                        <field name="availability"/>
                                        <field name="emp_id" readonly="1"/>
                                    </group>
                                    <group>
                                        <field name="categ_ids" widget="many2many_tags"/>
                                    </group>                                    
                                </group>                                
                            </page>
                        </notebook>
                </xpath>

                <xpath expr="//sheet/notebook" position="inside">

                    <page string ="Family Details">
                        <group>
                            <data>
                                <field name="applicant_families" string ="">
                                    <tree  editable="bottom">
                                        <field name="relationship"/>
                                        <field name="first_name"/>
                                        <field name="middle_name"/>
                                        <field name="last_name"/>
                                        <field name="gender"/>
                                        <field name="date_of_birth"/>                       
                                        <field name="placeof_birth"/>
                                    </tree>
                                </field>
                            </data>
                        </group>
                    </page>    

                    <page string ="Educational Background">  
                        <group>
                            <data>
                                <field name="applicant_education" string ="">
                                    <tree  editable="bottom">
                                        <field name="schooltype"/>
                                        <field name="name_school"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="school_address"/>
                                        <field name="description"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>
                    </page>
                    <page string ="Record Books">  
                        <group string="Documents">
                             
                            <data>
                                <field name="applicant_document_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="document"/>
                                        <field name="document_number"/>
                                        <field name="date_issued"/>
                                        <field name="date_expiry"/>
                                        <field name="issuing_authority"/>
                                        <field name="place_ofissue"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>

                        <group string="Denied Visa">
                            <field name="is_denied_visa"/>
                            <data>
                                <field name="applicant_denied_visa_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="nationality_id"/>
                                        <field name="date_denied"/>
                                        <field name="reason"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>   

                        <group string="Deported">
                            <field name="is_deported"/>
                            <data>
                                <field name="applicant_deported_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="nationality_id"/>
                                        <field name="date_deported"/>
                                        <field name="reason"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>

                        <group string="Training Courses">
                            <data>
                                <field name="applicant_training_courses_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="training_id"/>
                                        <field name="training_name"/>
                                        <field name="document_no"/>
                                        <field name="issue_date"/>
                                        <field name="training_centers"/>
                                        <field name="is_with_cop"/>
                                        <field name="issue_date_cop"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>        

                        <group string="Licenses">
                            <data>
                                <field name="applicant_license_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="training_id" string="Licenses"/>
                                        <field name="training_name" string="License name"/>
                                        <field name="document_no"/>
                                        <field name="issue_date"/>
                                        <field name="expiry_date"/>
                                        <field name="issuing_authority"/>
                                        <field name="issuing_authority_other"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>                                                            
                    </page>
                    <page string ="Medical History">  
                        <group string="History">
                            <data>
                                <field name="is_medical_reason_1"/>
                                <field name="applicant_medical_history_ids" string ="">
                                    <tree editable="bottom">
                                        <field name="applicant_id" invisible="1"/>
                                        <field name="vessel_name" required="1"/>
                                        <field name="occurence_date"/>
                                        <field name="occurence_place"/>
                                        <field name="description"/>
                                    </tree>
                                </field>
                            </data>
                        </group>
                        <group string="Operation">
                            <field name="is_medical_operation"/>
                            <data>
                                <field name="applicant_medical_operation_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="details_of_operation"/>
                                        <field name="date_of_operation"/>
                                        <field name="period_of_disability"/>
                                        <field name="description"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>   
                        <group string="Illness">
                            <data>
                                <field name="applicant_medical_illness_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="details_of_illness_accident"/>
                                        <field name="date_illness_accident"/>
                                        <field name="therapy_treatment_description"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>   

                        <group string="Medical Condition">
                            <group >
                                <field name="has_hypertension"/>
                                <field name="has_diabetes"/>
                                <field name="has_hepatitis_a_b"/>
                                <field name="has_asthma"/>
                                <field name="is_smoker"/>
                            </group>
                        </group>                                                                                                
                    </page>
                    <page string ="References">  

                        <group string="Reference 1">
                            <group>
                                <field name="reference_1_company_name"/>
                                <field name="reference_1_name_person"/>
                                <field name="reference_1_address"/>
                                <field name="reference_1_contact_no"/>
                            </group>
                        </group>


                        <group string="Reference 2">
                            <group>
                                <field name="reference_2_company_name"/>
                                <field name="reference_2_name_person"/>
                                <field name="reference_2_address"/>
                                <field name="reference_2_contact_no"/>
                            </group>
                        </group>

                        <group string="Employed Relatives">
                            <field name="has_relative_employee"/>
                            <data>
                                <field name="applicant_employed_relatives_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="name_of_crew" string="Name of Crew"/>
                                        <field name="position_and_principal" string="Position and Principal"/>
                                        <field name="relationship"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>

                        <group string="Pervious Application">
                            <field name="has_applied_previously"/>
                            <data>
                                <field name="applicant_previous_application_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="date_applied"/>
                                        <field name="job_applied_id"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>                                
                    </page>
                    <page string ="Employment History">  
                        <group>
                            <data>
                                <field name="applicant_previous_employment_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="rank_position"/>
                                        <field name="manning_agency"/>
                                        <field name="employer_principal"/>
                                        <field name="address_contact_info_manning_agen"/>
                                        <field name="vessel_name"/>
                                        <field name="vessel_type"/>
                                        <field name="grt"/>
                                        <field name="date_from"/>
                                        <field name="date_to"/>
                                        <field name="duties_and_responsibility"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>
                    </page>

                    <page string ="Social Media">  
                        <group>
                            <data>
                                <field name="applicant_socialmedia_ids" string ="">
                                    <tree  editable="bottom">
                                        <field name="socialmedia_id" required="1"/>
                                        <field name="name" required="1"/>
                                    </tree>                                 
                                </field>
                            </data>
                        </group>
                    </page>
                </xpath>

            </field>
        </record>


        <record id="act_hr_employee_applicant_document_button" model="ir.actions.act_window">
            <field name="res_model">hr.applicant</field>
            <field name="name">Application</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_emp_id': [active_id], 
                                    'default_emp_id': active_id,
                                    'search_default_inactive_record': 1}</field>
        </record>

        <record id="search_applicant_extend" model="ir.ui.view">
            <field name="name">search.applicant.extend</field>
            <field name="model">hr.applicant</field>
            <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_search_bis"/>
            <field name="arch" type="xml">
                <field name="categ_ids" position="after">
                    <field name="emp_id"/>
                    <field name="active"/>
                    <filter string="Archived" name="inactive_record" domain="[('active', '=', False)]"/>
                </field>
            </field>
        </record>        
    </data>
</odoo>